<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />

		<title>AnimateMe Demo</title>

		<link rel="stylesheet" href="./animate.me.css" />

		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css"
		/>

		<link rel="shortcut icon" type="image/x-icon" href="https://atanas.info/images/favicon/favicon.ico" />

		<style type="text/css" media="screen">
			html,
			body {
				height: 100%;
			}

			body {
				margin: 0;
			}

			main {
				counter-reset: section;
			}

			.docs {
				max-width: 50vw;
				margin: auto;
			}

			@media (max-width: 1023px) {
				.docs {
					max-width: none;
					padding: 0 1rem;
				}
			}

			.animate-me {
				font-family: sans-serif;
				font-size: 20px;
				font-size: clamp(1rem, 2vw, 2rem);
				display: flex;
				align-items: center;
				justify-content: center;
				height: 75vh;
				counter-increment: section;
			}

			.animate-me h2::after {
				content: counter(section);
			}

			footer {
				text-align: center;
				padding: 2rem 0;
			}

			footer button {
				display: inline-block;
				vertical-align: middle;
				padding: 0.5rem 1rem;
				border: 1px solid;
				margin-bottom: 2rem;
				background: transparent;
				border-radius: 0.25rem;
				box-shadow: none;
				appearance: none;
				cursor: pointer;
				transition: background-color 0.3s ease-in-out;
			}

			footer button:hover {
				background: rgba(0, 0, 0, 0.1);
			}
		</style>

		<script
			src="https://unpkg.com/scriptex-socials"
			async
			integrity="sha384-FDS8WECJvE4bGb+arLPh3DSv0mrVHD+hJRf+UaM6rVMT+wBleSgUlog90rrtgHH1"
			crossorigin="anonymous"
		></script>
	</head>
	<body>
		<a
			href="https://github.com/scriptex/AnimateMe"
			title="See code on Github"
			class="github-fork-ribbon"
			data-ribbon="See code on Github"
		>
			See code on Github
		</a>

		<main>
			<div class="animate-me" style="background-color: red">
				<div class="docs">
					<h1>Installation</h1>

					<code>npm i animateme</code>

					<p>or</p>

					<code>yarn add animateme</code>
				</div>
			</div>

			<div class="animate-me" style="background-color: blue">
				<div class="docs">
					<h1>Usage</h1>

					<p>
						In your HTML create the elements that you want to be animated. <br />The default class name used
						for the animations is "animate-me".
					</p>

					<p>Then</p>

					<code>import AnimateMe from 'animateme';</code>
				</div>
			</div>

			<div class="animate-me" style="background-color: green">
				<div class="docs">
					<h1>Usage</h1>

					<p>then create a new instance with the default settings</p>

					<code>new AnimateMe();</code>
				</div>
			</div>

			<div class="animate-me" style="background-color: yellow">
				<div class="docs">
					<h1>Usage</h1>

					<p>or use your own options</p>

					<code>
						<pre>
new AnimateMe('.your-element', {
	offset: 0.8,
	reverse: false,
	animatedIn: 'your-custom-class',
	offsetAttr: 'data-offset-top',
	animationAttr: 'data-animation-name',
	touchDisabled: false
});
						</pre
						>
					</code>
				</div>
			</div>

			<div class="animate-me" style="background-color: lavender">
				<div class="docs">
					<h1>Further reading</h1>

					<p>
						for more details on usage, API and more, <br />please visit the
						<a href="https://github.com/scriptex/AnimateMe">Github page</a>.
					</p>
				</div>
			</div>
		</main>

		<footer>
			<button>Add more sections</button>

			<social-links></social-links>
		</footer>

		<script src="https://unpkg.com/requirejs"></script>

		<script>
			require(['./animate.me.js'], function ({ AnimateMe }) {
				var instance = new AnimateMe();

				document.querySelector('button').addEventListener('click', event => {
					event.preventDefault();

					fetch('.')
						.then(r => r.text())
						.then(text => {
							var html = new DOMParser().parseFromString(text, 'text/html');
							var sections = html.querySelector('main').innerHTML;

							document.querySelector('main').innerHTML += sections;

							instance.updateInstance();
						});
				});
			});
		</script>
	</body>
</html>
